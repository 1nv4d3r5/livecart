Menu

Menu is based on XML file/directory structured tree.

Menu structure configuration is defined in "applicaton/configuration/backend_menu" dir.

Example of "backend_menu" dir.

backend_menu 
	|
	|- site_management (dir)
	|	|
	|	|- members.xml
	|	|
	|	|- languages.xml
	|
	|- store_management (dir)
	|	|
	|	|- products.xml
	|
	|- site_management.xml
	|
	|- store_management.xml
	
In this structure "site_management" and "store_management" are top menus. Their configuration is defined in "site_management.xml" and in "store_management.xml".

Example of "site_management.xml":

<Menu>
	<Title>Site management</Title>
	<Order>2</Order>
	<Controller>backend.languages</Controller>
	<Action>index</Action>
</Menu> 

<Title>- title of menu.
<Order>- order in menu.
<Controller>- controller name.
<Action>- action name.

Configuration of their submenus is defined in files ("members.xml", "languages.xml", "products.xml").

Example of "languages.xml":

<Menu>
	<Title>_languages</Title>	
	<Controller>backend.languages</Controller>
	<Action>index</Action>
	<Items>
		<Menu>
			<Title>_admin_languages</Title>		
			<Controller>backend.languages</Controller>
			<Action>index</Action>				
		</Menu>			
		<Menu>
			<Title>_information</Title>
			<Controller>backend.languages</Controller>
			<Action>information</Action>				
		</Menu>
	</Items>
</Menu>

Each submenu can have his own submenus, which are defined in <Items> tag.

Using menu in controllers.

Menu is loaded into controller with MenuLoader class. Look in "model" dir.

Exaple:

<php?

	$menu_loader = new MenuLoader();		
	//geting top list menu
	$menu_loader->getTopList()
	//geting current menu structure
	$structure = $menu_loader->getCurrentHierarchy($this->request->getControllerName(),	$this->request->getActionName());
?>

To display menu is used javascript Tigra Menu from "http://www.softcomplex.com/products/tigra_menu/"

To create javascript array of menu structure is used TigraMenuHelper class.





























